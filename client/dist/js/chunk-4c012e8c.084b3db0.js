(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4c012e8c"],{"2fef":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"auth"},[s("div",{staticClass:"auth-wrap"},[s("div",{staticClass:"buttons"},[s("div",{staticClass:"button",class:{active:t.isSignup},on:{click:function(e){t.isSignup=!0}}},[t._v("Регистрация")]),s("div",{staticClass:"button",class:{active:!t.isSignup},on:{click:function(e){t.isSignup=!1}}},[t._v("Вход")])]),s("div",{staticClass:"form-wrapper"},[s("label",{attrs:{for:"username"}},[t._v("Username:")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],attrs:{id:"username",type:"text"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})]),s("div",{staticClass:"form-wrapper"},[s("label",{attrs:{for:"password"}},[t._v("Пароль:")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{id:"password",type:"text"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),t.isSignup?s("div",{staticClass:"form-wrapper"},[s("label",{attrs:{for:"firstName"}},[t._v("Имя:")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.firstName,expression:"firstName"}],attrs:{id:"firstName",type:"text"},domProps:{value:t.firstName},on:{input:function(e){e.target.composing||(t.firstName=e.target.value)}}})]):t._e(),t.isSignup?s("div",{staticClass:"form-wrapper"},[s("label",{attrs:{for:"lastName"}},[t._v("Фамилия:")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.lastName,expression:"lastName"}],attrs:{id:"lastName",type:"text"},domProps:{value:t.lastName},on:{input:function(e){e.target.composing||(t.lastName=e.target.value)}}})]):t._e(),t.isSignup?s("div",{staticClass:"form-wrapper checkbox"},[s("label",{attrs:{for:"lastName"}},[t._v("admin:")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.isAdmin,expression:"isAdmin"}],attrs:{id:"lastName",type:"checkbox"},domProps:{checked:Array.isArray(t.isAdmin)?t._i(t.isAdmin,null)>-1:t.isAdmin},on:{change:function(e){var s=t.isAdmin,a=e.target,i=!!a.checked;if(Array.isArray(s)){var r=null,n=t._i(s,r);a.checked?n<0&&(t.isAdmin=s.concat([r])):n>-1&&(t.isAdmin=s.slice(0,n).concat(s.slice(n+1)))}else t.isAdmin=i}}})]):t._e(),s("div",{staticClass:"send-button button blue",on:{click:t.authAction}},[t._v("Отправить")])])])},i=[],r=s("5530"),n={name:"Auth",data:function(){return{username:"",password:"",firstName:"",lastName:"",isAdmin:!1,isSignup:!1}},methods:{authAction:function(){var t=this,e={username:this.username,password:this.password};this.isSignup&&(e=Object(r["a"])(Object(r["a"])({},e),{},{lastName:this.lastName,firstName:this.firstName,admin:this.isAdmin}));var s=this.isSignup?"register":"login";this.$request("post",s,e).then((function(e){e.token&&(localStorage.setItem("_token",e.token),localStorage.setItem("user",JSON.stringify(e.user)),t.$store.commit("set-auth",e.user)),e.token?e.user.admin?t.$router.push("/sessions"):t.$router.push("/chat"):alert(e.error)})).catch((function(t){console.log("server err",t)}))}}},o=n,u=(s("c9b5"),s("2877")),c=Object(u["a"])(o,a,i,!1,null,null,null);e["default"]=c.exports},9279:function(t,e,s){},c9b5:function(t,e,s){"use strict";var a=s("9279"),i=s.n(a);i.a}}]);
//# sourceMappingURL=chunk-4c012e8c.084b3db0.js.map